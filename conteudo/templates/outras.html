html
{% extends 'base.html' %}
{% block conteudo %}

<h2 style="text-align: center; margin-top: 30px;">{{ titulo }}</h2>

<div class="cards-container cards-verticais">
    {% for item in items %}
        <a href="{% url 'divergencias' item.slug %}" class="card-opcao">
            {% if item.imagem %}
                <img src="{{ item.imagem.url }}" alt="{{ item.nome }}" style="max-height: 60px;">
            {% endif %}
            <h3>{{ item.nome }}</h3>
        </a>
    {% endfor %}
</div>

<div style="text-align: center; margin-top: 40px; margin-bottom: 40px;">
    <a href="javascript:history.back()" style="color: whitesmoke;" class="btn-voltar">← Voltar</a>
    
    <a href="javascript:void(0)" onclick="abrirModalDivergencia()" class="btn-adicionar">+ Adicionar</a>
</div>

<div id="modal-criar-divergencia" class="modal-overlay" style="display: none;">
    <div class="modal-conteudo card-login" style="max-width: 500px; height: auto;">
        <span class="fechar-modal" onclick="fecharModalDivergencia()">×</span>
        <h2 style="text-align: center; margin-bottom: 20px; color: #fff;">Nova Divergência</h2>
        <form action="{% url 'criar_divergencia' %}" method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <div class="campo-input" style="margin-bottom: 15px;">
                <label for="id_nome_div">Nome:</label>
                <input type="text" name="nome" id="id_nome_div" class="input-estilizado" required onkeyup="gerarSlugAutomatico()">
            </div>
            <div class="campo-input" style="margin-bottom: 15px;">
                <label for="id_slug_div">Slug (URL):</label>
                <input type="text" name="slug" id="id_slug_div" class="input-estilizado" required>
            </div>
            <div class="campo-input" style="margin-bottom: 15px;">
                <label for="id_imagem">Imagem:</label>
                <input type="file" name="imagem" id="id_imagem" class="input-estilizado" style="padding: 10px;">
            </div>
            <div style="display: flex; gap: 20px; margin-bottom: 25px; margin-top: 20px;">
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" name="tem_graus" id="id_tem_graus" style="transform: scale(1.5);">
                    <label for="id_tem_graus" style="margin: 0; cursor: pointer;">Tem graus?</label>
                </div>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <input type="checkbox" name="destaque_home" id="id_destaque_home" style="transform: scale(1.5);">
                    <label for="id_destaque_home" style="margin: 0; cursor: pointer;">Home?</label>
                </div>
            </div>
            <button type="submit" class="btn-entrar-login" style="width: 100%;">Salvar</button>
        </form>
    </div>
</div>

<script>
    function abrirModalDivergencia() {
        document.getElementById('modal-criar-divergencia').style.display = 'flex';
    }
    function fecharModalDivergencia() {
        document.getElementById('modal-criar-divergencia').style.display = 'none';
    }
    function gerarSlugAutomatico() {
        const nome = document.getElementById('id_nome_div').value;
        const slug = nome.toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, "").replace(/\s+/g, '-').replace(/[^\w\-]+/g, '').replace(/\-\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '');
        document.getElementById('id_slug_div').value = slug;
    }
</script>

{% endblock %}